!function(a){"function"!=typeof window.MONKEY&&a(jQuery||Zepto)}(function(a){!function(a,b){"use strict";function c(){var a,b;return a=function(){var a=new b;return a.initialize.apply(a,arguments),a},b=function(){},b.prototype=a.prototype,a.fn=a.prototype,a.fn.initialize=function(){},a}var d=function(e,f,g,h){var i,j=e.split(/[.:]+/),k=a;h||(k=k.MONKEY=k.MONKEY||{}),"function"!=typeof f&&(g=f,f=null),g=g||c();for(var l=0,m=j.length;m>l;l++)i=l==m-1,k[j[l]]=i?g:k[j[l]]||{},k=k[j[l]];return f&&f.call(k,k,d.utils,b),k};d.Wrapper=function(a,b){return d(a,function(a){return a.fn.initialize=function(c,d){b.apply(a,arguments)},a},null,!0)},a.MONKEY=d}(window,a),function(a,b){"use strict";MONKEY.vars={add:function(a,b){MONKEY.vars[a]=b},extend:function(a){b.extend(MONKEY.vars,a)},body:b("body"),main:b(document),win:b(window)},MONKEY.Components={},MONKEY.Ajax={}}(window,a),function(a,b){"use strict";MONKEY.utils={toTitleCase:function(a){return a=a.replace(/(?:^|-)\w/g,function(a){return a.toUpperCase()}),a.replace(/-/g,"")},toCamelCase:function(a){return a=a.replace(/(?:^|-)\w/g,function(a,b){return b?a.toUpperCase():a}),a.replace(/-/g,"")}}}(window,a),function(a){"use strict";function b(a,b){"function"==typeof a&&a.apply(null,b||[])}MONKEY.dispatcher=function(a,c,d){b(a.init,d),b(a[c],d)}}(window),function(a,b){"use strict";var c=MONKEY.Components||{};b.fn.isExist=function(a,b){var c=this.find(a);return c.length&&"function"==typeof b&&b.call(null,c,this),c.length},b.fn.getComponent=function(){return this.data("_component")},MONKEY.factory={create:function(a){this.container=a,this.set("[data-component]:not([data-depends],[data-cobj])")},set:function(a){this.container.isExist(a,this.constructor.bind(this))},constructor:function(a){a.each(this.each.bind(this))},extend:function(a,b){var d,e;if("function"==typeof c[a]){d=c[a].fn;for(e in d)~(b.overrides||[]).indexOf(e)||(b.fn[e]=d[e])}},each:function(a,d){var e=b(d),f=e.data("extend"),g=e.data("component"),h=MONKEY.utils.toTitleCase(g);"function"==typeof c[h]&&(f&&this.extend(MONKEY.utils.toTitleCase(f),c[h]),this.build(h,e,g))},build:function(a,b,d){var e=c[a].call(null,b);b.data("_component",e),b.attr("data-cobj",!0),this.set('[data-depends="'+d+'"]')}}}(window,a),MONKEY.Wrapper("MONKEY.ComponentWrapper",function(a,b){"use strict";MONKEY(["Components",a].join("."),function(a,c,d){var e=d("body");a.fn.initialize=function(a){this.$el=a,this.elements={},this.on=null,this.fire=null,this.parent=null,this.loadDefaultMethods(),this.init()},a.fn.loadDefaultMethods=function(){this.setAttrs(),this.setElements(),this.setParent(),this.emitter()},a.fn.setElements=function(){this.$el.find("[data-element]").each(this._assignEachElements.bind(this))},a.fn._assignEachElements=function(a,b){var c=d(b),e=c.data("element");this._insertElement(c,e)},a.fn._insertElement=function(a,b){return b=c.toCamelCase(b),a.attr("data-eobj",!0),this.elements[b]?void(this.elements[b]=this.elements[b].add(a)):void(this.elements[b]=a)},a.fn.reloadElements=function(){this.$el.find("[data-element]:not([data-eobj])").each(this._assignEachElements.bind(this))},a.fn.getElement=function(a,b){var c=this.$el,d=null;return b&&(c=e),d=c.find('[data-element="'+a+'"]'),d.length?(this._insertElement(d,a),d):!1},a.fn.setAttrs=function(){var a=this.$el.data();for(var b in a)this[b]=a[b]},a.fn.emitter=function(){this.on=d.proxy(this.$el,"on"),this.fire=d.proxy(this.$el,"trigger")},a.fn.addEvent=function(a,b,f){var g=c.toCamelCase(["_on",a,b].join("-")),h=f?e:this;h.on(a,'[data-action="'+b+'"]',d.proxy(this,"onHandleEvent",g))},a.fn.onHandleEvent=function(a,b){(this[a]||d.noop).call(this,b,d(b.currentTarget))},a.fn.setParent=function(){this.depends&&(this.parent=d('[data-component="'+this.depends+'"]').getComponent())},a.fn.init=function(){},b(a,c,d)})})});